prep_raw <- function(file) {
file %>%
read_csv() %>%
mutate(block = replace_na(block,'instructions'),
trials_this_n = replace_na(trials_this_n,0)) %>%
mutate(across(average_acceleration_x:timestamp, as.numeric), # coerce eyetracking data to numeric.
across(contains(c('in_saccade','in_blink')), as.logical)) # change logical data to logical format
#across(contains('gaze_x'), ~ . - 1920/2), # center x and y gaze coordinates based on a 1920x1080 monitor size
#across(contains('gaze_y'), ~ . - 1080/2),
#average_gaze_dist = sqrt(average_gaze_x^2 + average_gaze_y^2)) %>% # add gaze distance from center
#relocate(average_gaze_dist, .after = average_gaze_y)
}
source('code/methods.R')
source('code/methods.R')
# List files to be loaded and the output file
et_file <- 'data/hf_focus/raw/eyetracking_raw.csv'
# load libraries and source functions
library(janitor)
library(rstatix)
library(tidyverse)
stim_file <- 'data/hf_focus/raw/stimulus.csv'
out_file <- 'data/hf_focus/raw/raw_combined.csv'
combined <- match_eyetracking_with_stimulus(et_file,stim_file,out_file)
problems()
out_file <- dirname(et_file)
